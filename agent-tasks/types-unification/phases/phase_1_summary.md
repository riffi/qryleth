# –§–∞–∑–∞ 1: –ê–Ω–∞–ª–∏–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –º–∏–≥—Ä–∞—Ü–∏–∏ - –í–´–ü–û–õ–ù–ï–ù–û

## –û–±–∑–æ—Ä —Ñ–∞–∑—ã
**–î–∞—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: 21 –∏—é–ª—è 2025  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ  
**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: ~2 —á–∞—Å–∞  

## –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### 1. ‚úÖ –ü—Ä–æ–≤–µ–ª–∏ –ø–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–ª–∏ –≤—Å–µ 187 —Å—Ç—Ä–æ–∫ –≤ `entities/r3f/types.ts`
- –ù–∞—à–ª–∏ 12 —Ñ–∞–π–ª–æ–≤, –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—â–∏—Ö –∏–∑ –ø—Ä–æ–±–ª–µ–º–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
- –í—ã—è–≤–∏–ª–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –Ω–∞—Ä—É—à–µ–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã FSD

### 2. ‚úÖ –ü–æ—Å—Ç—Ä–æ–∏–ª–∏ –≥—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –º–µ–∂–¥—É —Ç–∏–ø–∞–º–∏  
- –û–ø—Ä–µ–¥–µ–ª–∏–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (—Ö–æ—Ä–æ—à–æ!)
- –í—ã—è–≤–∏–ª–∏ 1 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –Ω–∞—Ä—É—à–µ–Ω–∏–µ: `shared/r3f/primitives/PrimitiveRenderer.tsx` –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –∏–∑ entities
- –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–ª–∏ –≤—Å–µ –∏–º–ø–æ—Ä—Ç—ã –∏ —ç–∫—Å–ø–æ—Ä—Ç—ã

### 3. ‚úÖ –°–æ–∑–¥–∞–ª–∏ –¥–µ—Ç–∞–ª—å–Ω—É—é –∫–∞—Ä—Ç—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ç–∏–ø–æ–≤
- **–í—ã—Å–æ–∫–æ—á–∞—Å—Ç–æ—Ç–Ω—ã–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ç–∏–ø—ã**: Store-related (SceneStore, SceneStoreState, SceneStoreActions)
- **–°—Ä–µ–¥–Ω–µ—á–∞—Å—Ç–æ—Ç–Ω—ã–µ**: UI enums (ViewMode, RenderMode, TransformMode)  
- **–ù–∏–∑–∫–æ—á–∞—Å—Ç–æ—Ç–Ω—ã–µ**: Hook return types, Event types

### 4. ‚úÖ –†–∞–∑—Ä–∞–±–æ—Ç–∞–ª–∏ –ø–ª–∞–Ω –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏ –ø–æ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏

## –ö–ª—é—á–µ–≤—ã–µ –Ω–∞—Ö–æ–¥–∫–∏

### üö® –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –≤—ã—è–≤–ª–µ–Ω—ã:
1. **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ –Ω–∞—Ä—É—à–µ–Ω–∏–µ**: `PrimitiveRenderer.tsx` –≤ shared –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –∏–∑ entities
2. **Store —Ç–∏–ø—ã –≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º —Å–ª–æ–µ**: SceneStore* —Ç–∏–ø—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ features, –∞ –Ω–µ entities
3. **–ú–æ–Ω–æ–ª–∏—Ç–Ω—ã–π —Ñ–∞–π–ª**: 187 —Å—Ç—Ä–æ–∫ –Ω–µ—Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Ç–∏–ø–æ–≤ –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ

### ‚úÖ –•–æ—Ä–æ—à–∏–µ –Ω–æ–≤–æ—Å—Ç–∏:
1. **–ù–µ—Ç —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** - –º–∏–≥—Ä–∞—Ü–∏—è –±—É–¥–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ–π
2. **–ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ —á–∞—Å—Ç–æ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è** - –º–æ–∂–µ–º –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ—ç—Ç–∞–ø–Ω–æ
3. **–í—Ä–µ–º–µ–Ω–Ω—ã–µ –∞–ª–∏–∞—Å—ã –≤–æ–∑–º–æ–∂–Ω—ã** - –Ω–µ –±—É–¥–µ—Ç breaking changes

## –î–µ—Ç–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### –§–∞–π–ª—ã, –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—â–∏–µ –∏–∑ `entities/r3f/types.ts`:

#### **–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï (Store layer)**
1. `features/scene/store/sceneStore.ts`
   - **–¢–∏–ø—ã**: SceneStore, SceneStoreState, SceneStoreActions, ViewMode, RenderMode, etc.
   - **–†–∏—Å–∫**: –≠–ö–°–¢–†–ï–ú–ê–õ–¨–ù–´–ô (core infrastructure)

#### **–ê–†–•–ò–¢–ï–ö–¢–£–†–ù–û–ï –ù–ê–†–£–®–ï–ù–ò–ï**  
2. `shared/r3f/primitives/PrimitiveRenderer.tsx:9`
   - **–¢–∏–ø**: RenderMode
   - **–ü—Ä–æ–±–ª–µ–º–∞**: shared —Å–ª–æ–π –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –∏–∑ entities (–Ω–∞—Ä—É—à–µ–Ω–∏–µ FSD)

#### **FEATURES (–æ–∂–∏–¥–∞–µ–º–æ)**
3. `features/scene/hooks/useSceneEvents.ts` - —Å–æ–±—ã—Ç–∏–π–Ω—ã–µ —Ç–∏–ø—ã
4. `features/scene/hooks/useObjectSelection.ts` - selection —Ç–∏–ø—ã  
5. `features/scene/hooks/useOEPrimitiveSelection.ts` - primitive selection
6. `features/scene/hooks/useSceneHistory.ts` - history —Ç–∏–ø—ã
7. `features/scene/ui/SceneHeader.tsx` - SceneMetaData
8. `features/object-editor/store/objectStore.ts` - ViewMode, RenderMode
9. `shared/r3f/TransformGizmo.tsx` - transform events
10. `shared/r3f/PrimitiveTransformGizmo.tsx` - primitive events

## –ü–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏ –ø–æ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏

### üü¢ –õ–ï–ì–ö–ê–Ø –ú–ò–ì–†–ê–¶–ò–Ø (1-2 —á–∞—Å–∞)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –í–´–°–û–ö–ò–ô** - –Ω–∞—á–∏–Ω–∞–µ–º —Å —ç—Ç–æ–≥–æ
- Hook return types ‚Üí `shared/types/hooks/`
- Event types ‚Üí `shared/types/events/`
- SceneStatus enum ‚Üí `features/scene/model/`

**–§–∞–π–ª—ã –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã**: 5 —Ñ–∞–π–ª–æ–≤  
**–†–∏—Å–∫ breaking changes**: –ù–ò–ó–ö–ò–ô

### üü° –°–†–ï–î–ù–Ø–Ø –ú–ò–ì–†–ê–¶–ò–Ø (4-6 —á–∞—Å–æ–≤)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –°–†–ï–î–ù–ò–ô** - –ø–æ—Å–ª–µ –ª–µ–≥–∫–∏—Ö
- ViewMode, RenderMode, TransformMode ‚Üí `shared/types/ui/`
- SelectedObject, HoveredObject ‚Üí `features/scene/model/`  
- SceneMetaData ‚Üí `features/scene/model/`

**–§–∞–π–ª—ã –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã**: 4 —Ñ–∞–π–ª–∞  
**–†–∏—Å–∫ breaking changes**: –°–†–ï–î–ù–ò–ô  
**–¢—Ä–µ–±—É—é—Ç—Å—è**: –í—Ä–µ–º–µ–Ω–Ω—ã–µ –∞–ª–∏–∞—Å—ã

### üî¥ –°–õ–û–ñ–ù–ê–Ø –ú–ò–ì–†–ê–¶–ò–Ø (8-12 —á–∞—Å–æ–≤)
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –ù–ò–ó–ö–ò–ô** - –¥–µ–ª–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–º–∏
- SceneStore —Ç–∏–ø—ã ‚Üí `features/scene/model/store-types.ts`

**–§–∞–π–ª—ã –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã**: 1 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —Ñ–∞–π–ª  
**–†–∏—Å–∫ breaking changes**: –≠–ö–°–¢–†–ï–ú–ê–õ–¨–ù–´–ô  
**–¢—Ä–µ–±—É–µ—Ç—Å—è**: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ store –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

## –°—Ç—Ä–∞—Ç–µ–≥–∏—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∞–ª–∏–∞—Å–æ–≤

–í–æ –≤—Ä–µ–º—è –º–∏–≥—Ä–∞—Ü–∏–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º –æ–±—Ä–∞—Ç–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:

```typescript
// –í entities/r3f/types.ts (–≤—Ä–µ–º–µ–Ω–Ω–æ)
export type { ViewMode, RenderMode, TransformMode } from '@/shared/types/ui'
export type { SelectedObject, HoveredObject } from '@/features/scene/model'
export type { UseSceneEventsReturn } from '@/shared/types/hooks'
```

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è —Å–ª–µ–¥—É—é—â–∏—Ö —Ñ–∞–∑

### –§–∞–∑–∞ 2: –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã
1. **–ù–ï–ú–ï–î–õ–ï–ù–ù–û –∏—Å–ø—Ä–∞–≤–∏—Ç—å**: –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ –Ω–∞—Ä—É—à–µ–Ω–∏–µ –≤ PrimitiveRenderer
2. **–ù–∞—á–∞—Ç—å —Å –ª–µ–≥–∫–∏—Ö —Ç–∏–ø–æ–≤**: Hook returns –∏ Events
3. **–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫** —Å–æ–≥–ª–∞—Å–Ω–æ FSD

### –§–∞–∑–∞ 3: –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç  
4. **UI enums migration** —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –∞–ª–∏–∞—Å–∞–º–∏
5. **Selection types** –≤ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π feature —Å–ª–æ–π

### –§–∞–∑–∞ 4-6: –§–∏–Ω–∞–ª—å–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è
6. **Store types** - —Å–∞–º–∞—è —Å–ª–æ–∂–Ω–∞—è —á–∞—Å—Ç—å, –¥–µ–ª–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–µ–π

## –ö–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è –±—É–¥—É—â–∏—Ö –∞–≥–µ–Ω—Ç–æ–≤

### üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∞–Ω–∞–ª–∏–∑–∞
- **–í—Å–µ–≥–æ —Ñ–∞–π–ª–æ–≤ —Ç–∏–ø–æ–≤**: 15+ —Ñ–∞–π–ª–æ–≤ —Å —Ç–∏–ø–∞–º–∏
- **–ü—Ä–æ–±–ª–µ–º–Ω—ã–π –º–æ–Ω–æ–ª–∏—Ç**: 187 —Å—Ç—Ä–æ–∫ –≤ entities/r3f/types.ts
- **–ò–º–ø–æ—Ä—Ç–∏—Ä—É—é—â–∏—Ö —Ñ–∞–π–ª–æ–≤**: 12 —Ñ–∞–π–ª–æ–≤
- **–ù–∞—Ä—É—à–µ–Ω–∏–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã**: 1 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ
- **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ç–∏–ø–æ–≤**: 3 –≥—Ä—É–ø–ø—ã

### üõ°Ô∏è –†–∏—Å–∫–∏ –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
- **Store types** - —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–π —Ä–∏—Å–∫, –Ω–µ —Ç–æ—Ä–æ–ø–∏—Ç—å—Å—è
- **PrimitiveRenderer** - –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –Ω–∞—Ä—É—à–µ–Ω–∏–µ
- **–í—Ä–µ–º–µ–Ω–Ω—ã–µ –∞–ª–∏–∞—Å—ã** –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã –¥–ª—è smooth migration
- **–¶–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –Ω–µ—Ç** - —ç—Ç–æ —Ö–æ—Ä–æ—à–æ –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏

### üéØ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞ –º–∏–≥—Ä–∞—Ü–∏–∏
- –ù–µ—Ç breaking changes –≤ API
- Store –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π  
- –í—Å–µ –∏–º–ø–æ—Ä—Ç—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω—ã
- TypeScript –∫–æ–º–ø–∏–ª—è—Ü–∏—è –±–µ–∑ –æ—à–∏–±–æ–∫
- –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

**–ì–æ—Ç–æ–≤—ã –∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é –§–∞–∑—ã 2**: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ç–∏–ø–æ–≤

–§–∞–∑–∞ 1 –∑–∞–ª–æ–∂–∏–ª–∞ –ø—Ä–æ—á–Ω—É—é –æ—Å–Ω–æ–≤—É –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏ –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã —Ç–∏–ø–æ–≤ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–º–∏ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º–∏ Feature-Sliced Design.