# Фаза 4: UI — модал выбора карты высот из коллекции

Выполнена интеграция выбора PNG heightmap из коллекции Dexie в UI создания ландшафтного слоя.

## Что сделано
- Создан новый компонент модального окна выбора ассета:
  - `apps/qryleth-front/src/features/scene/ui/objectManager/TerrainAssetPickerModal.tsx`
  - Отображает грид карточек с превью (через `createTerrainAssetPreviewUrl`), именем файла,
    размерами и датой обновления.
  - Поиск по имени файла; скролл контейнер для большого количества элементов.
  - Выбор одного ассета и подтверждение кнопкой «Выбрать» — наружу возвращаются `assetId`, `width`, `height`, `fileName`.
- Интегрирован модал в создание слоя:
  - Изменён `SceneLayerModals` — добавлена кнопка «Выбрать из коллекции» рядом с `FileInput`.
  - Поддержаны два сценария источника `heightmap`:
    1) Новый PNG-файл — загрузка в Dexie через `uploadTerrainAsset`.
    2) Уже сохранённый ассет — выбор из коллекции без повторной загрузки.
  - При выборе ассета:
    - Заполняются `assetId`, `imgWidth`, `imgHeight` в параметрах `GfxHeightmapParams`.
    - Отображается превью и метаданные выбранного ассета.
    - Кнопка «Сбросить выбор» очищает выбор и возвращает возможность загрузки файла.
- Актуализирована логика кнопки «Создать» — теперь разрешено создавать слой и при выбранном ассете
  без загруженного файла.

## Детали реализации
- Превью URL создаются и освобождаются корректно (`URL.createObjectURL` / `URL.revokeObjectURL`).
- Добавлены русскоязычные JSDoc‑комментарии к методам нового компонента и обновлённого обработчика создания слоя.

## Путь проверки
1. Откройте создание нового слоя Landscape → Terrain.
2. Нажмите «Выбрать из коллекции», выберите ассет, подтвердите «Выбрать».
3. Убедитесь, что отображается превью выбранной карты, и можно создать слой.
4. Нажмите «Сбросить выбор» — снова доступна загрузка PNG файла.

## Файлы
- TerrainAssetPickerModal: apps/qryleth-front/src/features/scene/ui/objectManager/TerrainAssetPickerModal.tsx
- Интеграция: apps/qryleth-front/src/features/scene/ui/objectManager/SceneLayerModals.tsx

## Примечания
- Пагинация не реализована, используется прокрутка (ScrollArea), как достаточно для текущего объёма.
- Следующая фаза (5) — добавить прелоадер и блокировку рендера на время применения heightmap.
