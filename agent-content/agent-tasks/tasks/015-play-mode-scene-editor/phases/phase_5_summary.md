---
id: 15
phase: 5
title: "Фаза 5: Панель камер только в Play + постоянные подсказки 1/2/3"
status: done
created: 2025-08-21
updated: 2025-08-21
filesChanged: 1
notes:
  - scope: scene-editor overlay, camera panel, hotkey hints
---

# Фаза 5: Панель камер только в Play + постоянные подсказки 1/2/3

## Что сделано
- Перенёс панель переключения камер Orbit/Walk/Fly из режима редактирования в Play‑overlay:
  - В Edit панель скрыта (по Фазе 4 камера там всегда Orbit).
  - В Play панель рендерится поверх канвы (справа сверху, рядом с Exit).
- Добавил постоянную текстовую подсказку рядом с панелью: «Переключение камер: 1 — Orbit, 2 — Walk, 3 — Fly».
  Подсказка всегда отображается (не тултип), малый полупрозрачный текст, не перекрывает обзор.
- Синхронизировал панель с хоткеями (Фаза 3) через общее состояние стора: кнопки и горячие клавиши 1/2/3 взаимно отражают активный режим.
- Добавил JSDoc‑комментарий на русском к Play‑панели в компоненте страницы.
- Реализовал освобождение курсора при переключении из Walk/Fly на Orbit в Play: при смене режима камеры вызывается `document.exitPointerLock()`,
  а обработчики `onUnlock` в Walk/Fly не выходят из Play, если текущий `viewMode` уже Orbit.
- Спрятал гизмо трансформации в Play‑режиме: `ObjectTransformGizmo` теперь рендерится только в `UiMode.Edit`.

## Изменённые файлы
- `apps/qryleth-front/src/features/scene/ui/SceneEditorR3F.tsx`

## Результат
- [x] В Edit панель камер отсутствует; в Play — отображается поверх канвы.
- [x] Подсказки «1/2/3» всегда видимы в Play и не мешают обзору.
- [x] Кнопки панели и хоткеи 1/2/3 синхронизированы.
- [x] При переключении Walk/Fly → Orbit в Play курсор сразу освобождается; Play остаётся активным.
- [x] В Play гизмо трансформации скрыты.
