# –°–ª–æ–∏ —Å—Ü–µ–Ω—ã (GfxLayer, SceneLayer, GfxLayerType)

–î–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Å–ª–æ–π —Å—Ü–µ–Ω—ã, —Ç–∏–ø—ã —Å–ª–æ—ë–≤ –∏ –ø—Ä–∞–≤–∏–ª–∞ –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ.

---

## –ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ `GfxLayerType`

–ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ —Å–ª–æ—ë–≤ –∑–∞–º–µ–Ω—è–µ—Ç —Ä–∞–Ω–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–≤—à–∏–µ—Å—è —Å—Ç—Ä–æ–∫–æ–≤—ã–µ –ª–∏—Ç–µ—Ä–∞–ª—ã. –≠—Ç–æ –ø–æ–≤—ã—à–∞–µ—Ç —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —É—Å—Ç—Ä–∞–Ω—è–µ—Ç –æ–ø–µ—á–∞—Ç–∫–∏.

```ts
// –ò–º–ø–æ—Ä—Ç
import { GfxLayerType } from '@/entities/layer'

// –ó–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è
GfxLayerType.Object     // 'object'   ‚Äî —Å–ª–æ–π —Å –æ–±—ã—á–Ω—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏
GfxLayerType.Landscape  // 'landscape' ‚Äî —Å–ª–æ–π –ª–∞–Ω–¥—à–∞—Ñ—Ç–∞ (—Ç–µ—Ä—Ä–µ–π–Ω)
GfxLayerType.Water      // 'water'     ‚Äî —Å–ª–æ–π –≤–æ–¥—ã
```

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ —è–≤–ª—è–µ—Ç—Å—è —Å—Ç—Ä–æ–∫–æ–≤—ã–º, –ø–æ—ç—Ç–æ–º—É —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å UI —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `Select`), –≥–¥–µ `value` ‚Äî —Å—Ç—Ä–æ–∫–∞.

---

## –ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ `GfxLayerShape`

–ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ —Ñ–æ—Ä–º –ª–∞–Ω–¥—à–∞—Ñ—Ç–Ω—ã—Ö —Å–ª–æ—ë–≤. –ó–∞–º–µ–Ω—è–µ—Ç —Å—Ç—Ä–æ–∫–æ–≤—ã–µ –ª–∏—Ç–µ—Ä–∞–ª—ã `'plane' | 'terrain'`.

```ts
// –ò–º–ø–æ—Ä—Ç
import { GfxLayerShape } from '@/entities/layer'

// –ó–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è
GfxLayerShape.Plane    // 'plane'   ‚Äî –ø–ª–æ—Å–∫–∞—è –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å
GfxLayerShape.Terrain  // 'terrain' ‚Äî —Ä–µ–ª—å–µ—Ñ–Ω–∞—è –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å (—Ç–µ—Ä—Ä–µ–π–Ω)
```

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –∑–Ω–∞—á–µ–Ω–∏—è —Ç–∞–∫–∂–µ —Å—Ç—Ä–æ–∫–æ–≤—ã–µ –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å UI –∏ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π.

---

## –ë–∞–∑–æ–≤—ã–π —Ç–∏–ø `GfxLayer`

```ts
interface GfxLayer {
  id: string
  name: string
  /** –¢–∏–ø —Å–ª–æ—è ‚Äî –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ GfxLayerType */
  type?: GfxLayerType

  // –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∞–∑–º–µ—Ä–æ–≤/—Ñ–æ—Ä–º—ã (–∞–∫—Ç—É–∞–ª—å–Ω—ã –¥–ª—è –ª–∞–Ω–¥—à–∞—Ñ—Ç–∞ –∏ –≤–æ–¥—ã)
  width?: number
  height?: number
  /** –§–æ—Ä–º–∞ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏ ‚Äî –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ GfxLayerShape */
  shape?: GfxLayerShape

  /**
   * üÜï –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ç–µ—Ä—Ä–µ–π–Ω–∞ (—É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –≤—ã—Å–æ—Ç)
   * –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—Å–µ—Ö —Ä–µ–ª—å–µ—Ñ–Ω—ã—Ö –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–µ–π (shape = 'terrain').
   * –°–º. docs/api/types/terrain.md
  */
  terrain?: GfxTerrainConfig

  
  // –¶–≤–µ—Ç –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏ (–Ω–∞–ø—Ä. —Ü–≤–µ—Ç –ª–∞–Ω–¥—à–∞—Ñ—Ç–∞)
  color?: string
}
```

---

## –°–ª–æ–π –≤ —Å—Ü–µ–Ω–µ `SceneLayer`

`SceneLayer` —Ä–∞—Å—à–∏—Ä—è–µ—Ç `GfxLayer` –ø–æ–ª—è–º–∏, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º–∏ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ:

```ts
interface SceneLayer extends GfxLayer {
  /** –í–∏–¥–∏–º–æ—Å—Ç—å —Å–ª–æ—è –≤ —Å—Ü–µ–Ω–µ */
  visible: boolean
  /** –ü–æ—Ä—è–¥–æ–∫ –≤ —Å–ø–∏—Å–∫–µ —Å–ª–æ—ë–≤ */
  position: number
}
```

---

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

–°–æ–∑–¥–∞–Ω–∏–µ —Å–ª–æ—è –ª–∞–Ω–¥—à–∞—Ñ—Ç–∞:
```ts
import type { SceneLayer } from '@/entities/scene/types'
import { GfxLayerType, GfxLayerShape } from '@/entities/layer'

const layerData: Omit<SceneLayer, 'id'> = {
  name: 'landscape',
  type: GfxLayerType.Landscape,
  visible: true,
  position: 1,
  width: 100,
  height: 100,
  shape: GfxLayerShape.Terrain,
  color: '#4a7c59'
}
```

–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ª–∞–Ω–¥—à–∞—Ñ—Ç–Ω—ã—Ö —Å–ª–æ—ë–≤:
```ts
import { GfxLayerType } from '@/entities/layer'

const landscapeLayers = layers.filter(l => l.type === GfxLayerType.Landscape)
```

---

## –ú–∏–≥—Ä–∞—Ü–∏—è —Å —Å—Ç—Ä–æ–∫–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ –Ω–∞ enum

- –ë—ã–ª–æ: `type?: 'object' | 'landscape' | 'water'`
- –°—Ç–∞–ª–æ: `type?: GfxLayerType`

–ó–∞–º–µ–Ω—ã –≤ –∫–æ–¥–µ:
- –°—Ä–∞–≤–Ω–µ–Ω–∏—è –≤–∏–¥–∞ `layer.type === 'landscape'` ‚Üí `layer.type === GfxLayerType.Landscape`
- –ó–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `'object'` ‚Üí `GfxLayerType.Object`
- –í UI (`Select`) ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `value={GfxLayerType.Object}` –∏ –ø—Ä–∏–≤–æ–¥–∏—Ç–µ `onChange` –∫ `GfxLayerType`.

–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:
- –ó–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è ‚Äî —Å—Ç—Ä–æ–∫–∏, –ø–æ—ç—Ç–æ–º—É –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º, —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π –∏ UI –æ—Å—Ç–∞—ë—Ç—Å—è –ø—Ä–µ–∂–Ω–∏–º. 

---

## –ì–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

- `@/features/editor/scene/model/sceneStore` ‚Äî –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–ª–æ—ë–≤ –∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –Ω–∏–º–∏
- `@/features/editor/scene/ui/objectManager/*` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ª–æ—ë–≤ –∏ –≤—ã–±–æ—Ä —Ç–∏–ø–∞ –≤ UI
- `@/features/editor/scene/ui/renderer/*` ‚Äî —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ —Å–ª–æ—ë–≤
- `@/features/editor/scene/lib/*` ‚Äî —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ —Å —É—á—ë—Ç–æ–º –ª–∞–Ω–¥—à–∞—Ñ—Ç–∞, SceneAPI
- üÜï `@/features/editor/scene/lib/terrain/*` ‚Äî `GfxHeightSampler`, `HeightmapUtils`
