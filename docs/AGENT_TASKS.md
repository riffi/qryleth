# Агентские задачи
## Краткое описание
Документ описывает каким образом агенты должны ставить задачи и выполнять их если пользователь попросил явно сделать агентскую задачу.
Нужно учесть, что фазы могут выполняться разными агентами.

## Принцип работы
### Создание задачи
Когда пользователь просит создать агентскую задачу, необходимо:

1) Создать подпапку в /agent-tasks с названием задачи и подпапку phases
2) Добавить в папку задачи документ .md AGENT_TASK_SUMMARY.md
3) Добавить в AGENT_TASK_SUMMARY.md ссылку на [AGENT_TASKS.md](AGENT_TASKS.md) с инструкцией, что нужно обязательно сверяться с требованиями при выполнении каждой из фаз.
4) Записать в AGENT_TASK_SUMMARY.md план выполнения задачи, разбитый по фазам, а также контекст задачи, при необходимости с фрагментами кода. 
5) План должен включать фазу исследования, в рамках которой агент исследует код и формирует задания на следующие фазы, дополняя описание фаз в AGENT_TASK_SUMMARY.md. 
6) Описание каждой из фаз должно быть в виде постановки задачи с конкретными доработками кода
7) Разбивай фазы таким образом, чтобы после выполнения каждой промежуточной фазы приложение собиралось и работало корректно
8) Не делай слишком больших фаз, в которых агенту придется изменять более 15 файлов. Разбивай в этом случае фазы на более мелкие.
9) Выполни фазу исследования, тщательно проанализировав код репозитория


### Выполнение фазы задачи
Когда пользователь просит выполнить фазу задачи, необходимо:

1) Найти соответствую папку с задачей
2) Проанализировать AGENT_TASK_SUMMARY.md
3) Выполнить фазу задачи, добавить в /phases/phase_[number]_summary.md описание того, что было выполнено и новый контекст для будущих фаз
4) Обогатить AGENT_TASK_SUMMARY.md, указать в разделе выполненной фазы статус "Выполнено", добавить необходимый контекст, который был получен в рамках реализации фазы
5) При необходимости скорректировать список будущих фаз

### Выполнение последней фазы
Когда агент выполняет последнюю фазу, он формирует сводку из AGENT_TASK_SUMMARY.md и всех файлов в /phases что было сделано и записывает сводку в [папка с задачей]/TASK_COMPLETION_REPORT.md



### Примечания
- При формировании списка фаз и их описания необходимо подробно описывать планируемые действия, так как разные агенты могут не очень хорошо понимать контекст.
- При анализе необходимо сверяться с [qryleth_architecture_guidelines.md](qryleth_architecture_guidelines.md)
- После выполнения каждой из фаз добавляй в AGENT_TASK_SUMMARY.md ссылку на md файл фазы
