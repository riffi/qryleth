Координатная система террейна (Y-up)

Цель: устранить путаницу между вертикальной высотой (ось Y) и глубиной по оси Z, а также показать корректные диапазоны координат и примеры размещения.

- Ось X: горизонталь (влево/вправо относительно центра мира)
- Ось Y: вертикаль (высота террейна относительно уровня 0)
- Ось Z: глубина/дальность (ближе/дальше от наблюдателя)
- Центр мира: [0, 0, 0]

При слое layer: { width: W, depth: D } допустимые диапазоны локальных координат центров по XZ:
- X ∈ [-W/2 .. +W/2]
- Z ∈ [-D/2 .. +D/2]

Пример: { width: 300, depth: 200 } → X ∈ [-150..+150], Z ∈ [-100..+100].

Термины и поля
- В спецификации процедурной генерации рекомендуется использовать layer.depth (глубина по оси Z) и layer.center (опорная точка слоя). Историческое world.depth/world.height помечено как устаревшее и означало то же самое, что и depth; center ранее отсутствовал.
- В ограничивающих областях размещения area (вид сверху, XZ) прямоугольник задаётся как { kind: 'rect', x, z, width, depth }. Историческое поле height помечено как устаревшее.
- В GfxTerrainConfig поле worldHeight хранит «глубину Z» для совместимости существующего кода и рендера (переименование вне текущего рефакторинга).

Примеры
1) Центральное размещение (точки вокруг центра слоя): placement: { type: 'ring', center: [0, 0], rMin: 0, rMax: 2 }
2) Северная кромка мира (полоса по Z от +60 до +100 при depth=200): placement: { type: 'uniform', area: { kind: 'rect', x: -150, z: 60, width: 300, depth: 40 } }
3) Правая половина мира (X от 0 до +W/2): placement: { type: 'uniform', area: { kind: 'rect', x: 0, z: -D/2, width: W/2, depth: D } }

Частые ошибки и решения
- Ошибка: Использование world.height в смысле «вертикальной высоты». Решение: Для глубины по оси Z используйте world.depth. Вертикальная высота — это ось Y и управляется амплитудами источников/операций (например, amplitude, intensity).
- Ошибка: Координаты X/Z вне диапазонов мира (например, z: 160 при depth=200). Решение: Центрируйте расчёт: Z должен быть в [-depth/2 .. +depth/2]. Аналогично для X и width.
- Ошибка: placement: { type: 'uniform', center: [...] } — поле center не поддерживается для uniform. Решение: Используйте ring для размещения вокруг центра, либо area.rect для ограничивания области.
- Ошибка: В area.rect используется height вместо depth. Решение: Меняйте на depth; на время миграции есть fallback на height.

Миграция существующего кода
- В спецификациях мигрируйте на layer: замените world.* на layer.*; если временно остаётесь на world, замените world.height на world.depth.
- В ограничивающих областях замените area.height на area.depth.
- Если используете generateTerrainOpsFromPool(...), прокидывайте opts.worldDepth вместо opts.worldHeight (fallback поддерживается).

Полное руководство по миграции: см. docs/migrations/024-terrain-coordinates-refactor.md
