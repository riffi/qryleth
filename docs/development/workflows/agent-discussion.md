# Обсуждение доработки несколькими агентами

## Описание процесса

Данный документ описывает workflow для обсуждения задач несколькими агентами с целью выработки оптимального решения перед началом реализации.

## Принципы работы

### 1. Создание задачи на обсуждение

Пользователь создает задачу, которая требует обсуждения и анализа несколькими агентами перед реализацией.

### 2. Инициализация обсуждения

Первый агент, получивший задачу на обсуждение:
- Создает подпапку в `/agent-discussion` с названием, отражающим суть обсуждения
- Создает в этой подпапке файл `DISCUSSION_SUMMARY.md`
- Записывает в файл постановку задачи и свои мысли о подходе к решению

### 3. Структура файла DISCUSSION_SUMMARY.md

```markdown
# Обсуждение: [Название задачи]

## Постановка задачи
[Описание задачи от пользователя]

## Мысли агента 1
[Анализ задачи и предложения по решению от первого агента]

## Мысли агента 2
[Анализ задачи и предложения по решению от второго агента]

## Мысли агента N
[И так далее для каждого участвующего агента]

## Комментарии пользователя
[Пользователь пишет обратную связь по промежуточным тестам предложенных решений

## Консенсус
[Итоговое решение, к которому пришли агенты]

## Постановка для исполнения
[Финальная постановка задачи с учетом всех обсуждений]
```

### 4. Процесс обсуждения

Каждый последующий агент:
1. Изучает `DISCUSSION_SUMMARY.md`
2. Анализирует постановку задачи
3. Изучает мысли предыдущих агентов
4. Анализирует комментарии пользователя и учитывает их в рассуждении
5. Анализирует соответствующий код в проекте
6. Добавляет свой блок с мыслями и предложениями
7. При необходимости предлагает пользователю попробовать корректировку для получения обратной связи
8. При необходимости корректирует или дополняет предыдущие предложения

### 5. Достижение консенсуса

Агенты продолжают обсуждение до тех пор, пока не будет достигнуто согласие по:
- Подходу к решению задачи
- Архитектурным решениям
- Техническим деталям реализации
- Пользователь подтвердил, что задача решена верно

### 6. Финализация

После достижения консенсуса агенты формулируют финальную постановку задачи для исполнения, которая включает:
- Четкое описание, что нужно сделать
- Выбранный подход к реализации
- Технические детали и ограничения
- Критерии готовности

## Преимущества подхода

- Коллективный анализ сложных задач
- Учет различных точек зрения
- Учет обратной связи от пользователя
- Снижение риска архитектурных ошибок
- Более качественная постановка задач для исполнения
- Документирование процесса принятия решений
