# Qryleth - 3d редактор с ИИ

## Технологии
SPA react typescript mantine three.js vite dexie

## Основные термины
- Примитив - графический 3d примитив
- Объект - сгруппированный набор примитивов
- Инстанс объекта - конкретная реализация объекта, с указанием расположения на сцене, поворотом и масштабированием
- Слой, два типа:
    - группа объектов
    - поверхность(Landscape), может быть Plane или Perlin Noise
- Глобальное освещение - Цвет и интенсивность фонового и направленного света
- Сцена - набор слоев
- Редактор сцены - страница, где можно расставлять объекты, состоит из:
    - чата с ИИ ассистентом
    - окна рендера(Three.js)
    - менеджера объектов, слоев, глобального освещения
- Редактор объекта - страница, где можно изменять расположение примитивов в объекте, состоит из:
    - окна рендера(Three.js)
    - панели инструментов редактирования примитивов
- Библиотека - перечень сохраненных сцен и объектов(две вкладки)


## Сценарии использования
- Быстрое создание сцены: Библиотека -> Добавить сцену -> Запрос к ИИ редактору на создание освещения, слоев и объектов
- Корректировка расположения объектов на сцене: Редактор сцены -> выбор объекта -> перемещение/поворот/изменение размера/удаление
- Добавление объектов из библиотеки на сцену: Редактор сцены -> менеджер объектов -> Добавить объект -> Библиотека -> Выбор объекта -> Добавить на сцену
- Сохранение объекта в библиотеку: Редактор сцены -> выбор объекта -> Подсветка выбранного объекта в менеджере объектов -> Сохранить в библиотеку
- Сохранение сцены: Изменение сцены -> Статус - изменена, отображается кнопка сохранить -> Менеджер объектов -> Сохранить
- Редактирование объекта на сцене: Редактор сцены -> выбор объекта -> Подсветка выбранного объекта в менеджере объектов -> Редактор объекта -> корректировка -> сохранение -> Возврат в редактор сцен, объект скорректирован
- Редактирование объекта из библиотеки: Библиотека -> Объекты -> Выбор объекта -> Редактор объекта -> корректировка -> сохранение -> Возврат в библиотеку, объект скорректирован


## ИИ ассистент, текущие возможности
- Добавление новых созданных ии объектов на сцену про одному, в виде одного иснстанса, один tool call - addNewObject

## Хранилище
Текущий способ хранения библиотеки - локально, dexie
Текущий способ хранения чатов с ИИ - нет, теряется при перезагрузке страницы.

## Планы
### Хранилище
План по изменению способа хранения библиотеки - Backend spring boot

### Социальная составляющая
- публикация сцен и объектов в общедоступную библиотеку
- Возможность использования сцен и объектов из общедоступной библиотеки

### ИИ ассистент
- Возможность добавления не только новых сгенерированных объектов на сцену, но и элементов из локальной и общедоступной библиотеки
- Возможность корректировки глобального освещения
- Возможность управления слоями
- Возможность изменять количество и расположение инстансов объекта, массовое создание инстансов
- Возможность управления слоем Landscape

## Архитектурные принципы

[qryleth_architecture_guidelines.md](qryleth_architecture_guidelines.md)
  
