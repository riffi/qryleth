/**
 * Доменные типы глобальной палитры цветов.
 *
 * Типы предназначены для переиспользования как материалами (источник базового цвета),
 * так и системами окраски террейна (стопы многоцветной палитры).
 */

/**
 * Роль цвета в палитре.
 * Каждая роль описывает назначение цвета для различных подсистем сцены.
 */
export type PaletteRole =
  | 'sky'
  | 'fog'
  | 'water'
  | 'foliage'
  | 'wood'
  | 'rock'
  | 'metal'
  | 'sand'
  | 'ground'
  | 'snow'
  | 'accent'

/**
 * Глобальная палитра: именованный набор цветов по ролям.
 */
export interface GlobalPalette {
  /** Уникальный идентификатор палитры (должен быть стабильным) */
  uuid: string
  /** Название палитры для отображения в UI */
  name: string
  /** Сопоставление роль → цвет (HEX, формат #rrggbb) */
  colors: Record<PaletteRole, string>
}

/**
 * Источник цвета для материалов и террейна.
 *
 * fixed — использовать «локальный» цвет, заданный свойством цветового поля (например, properties.color).
 * role  — взять базовый цвет из активной палитры по роли и опционально применить tint.
 */
export type ColorSource =
  | { type: 'fixed' }
  | { type: 'role'; role: PaletteRole; tint?: number } // tint в диапазоне [-1..+1], применяется к HSV Value

